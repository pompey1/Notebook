# 文件操作
- 在C++中，文件操作属于技术的应用，不是基本语法。
- 数据持久化的两种方式：文件和数据库。
- 在实际开发中，文件操作无处不在。

在实际开发中，打开通过```is_open()```成员函数来判断文件是否打开成功。
失败的原因主要有：
1. 目录不存在
2. 磁盘空间已满
3. 没有权限，Linux平台下很常见

> 直接在VS中编译运行程序的文件目录是以CPP文件所在目录为起点，而直接使用编译以后的exe文件运行程序时则是以exe文件所在目录为起点

# 创建和写入文本文件
一般情况下，当文件流对象的声明周期结束以后，会自行调用析构函数，此函数内部会先调用```close()```方法切断文件流对象与任何文件的关联，最后才销毁他

但在实际操作中，对于打开的文件，最后还是显式调用一下，否则可能会导致读写文件失败

在某些场景中，即便已经对文件执行了写操作，但后续还可能会执行其他的写操作，对于这种情况可以使用```flush()```方法及时刷新输入流缓冲区，也能起到防止写入文件失败的作用

# 读取文本文件
其他语言风格的读取文件可能会使用```getLine()```方法，但是在C++中可以方便的使用```fin>>buffer```来读取文件，这种方法遇到空格会直接返回当前读取的内容，下一次调用时会从空格结束以后的内容重新开始读取
> 注意：输出流对象使用<<符号，输入流对象使用>>符号
# 创建和写入二进制文件
如果用整型变量(int类型 四个字节大小)来存放，那么他就是二进制文件，如果用字符变量（char类型 一个字节大小）来存放，那么他就是文本文件。

- 文本文件：存放的是字符串，以行的方式组织数据，每个字节都是有意义的符号
- 二进制文件：存放的不一定是字符串，以数据类型组织数据，内容要作为一个整体来考虑，**单个字节没有意义**

在计算机文件中，大多数文件都是二进制文件，文本文件就是可以通过notepad打开能看懂的文件

和文本文件的写入相比，二进制文件的写入需要使用```write()```方法，打开文件的时候要加一个二进制模式
# 读取二进制文件
- 文本文件：由可显示的字符组成，方便阅读（解码），占用的空间比较多
- 二进制文件：由比特0和1组成，组织数据的格式与文件用途有关，不方便阅读（解码）。为了节省存储空间， 还可能采用压缩技术。为了保证数据安全，也可能采用加密技术

文本文件以行的方式组织数据，行的结束标志是换行符，二进制文件以数据类型的方式组织数据，没有行的概念

从二进制文件中读取数据需要使用```read()```方法
# 文本操作的更多细节
- 在windows系统下， 换行符需要两个字节的大小，\n\r
- 在以文本方式打开文件时，写入和读取数据时windows会自动把\n和\n\r进行转换，以二进制方式打开文件时，写和读都不会进行转换
- 以文本方式读取文件时，遇到换行符停止，读入的内容没有换行符，以二进制方式读取文件时，遇到换行符不会停止，读入的内容中包括换行符（换行符被视为数据）
# fstream的类的使用
fstream可以同时使用ifstream和ifstream的功能，在C中，文件操作只有一个file指针，但是C++将file封装成了三个类，以此明确文件操作的目的，提高代码的可读性。
# 文件的随机存取
## 文件的位置指针
对文件进行读写操作时，文件的位置指针指向当前文件读写的位置（在C++中的指针指向的是内存中的位置，而文件的位置指针指向的是硬盘中的位置）
# 文件缓冲区和流状态
